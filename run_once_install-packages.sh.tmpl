#!/usr/bin/env zsh

brew_install() {
  echo "\nInstalling $1"
  if brew list $1 &>/dev/null; then
    echo "${1} is already installed"
  else
    brew install $1
  fi
}

# antigen
curl -L git.io/antigen > ~/.antigen.zsh

# homebrew
brews=(
  thefuck
  sops
  age
  bitwarden-cli
  autojump
  grc
  derailed/k9s/k9s
  k0sctl
  kustomize
  helm
  helmfile
  cilium-cli
  neovim
  k0sctl
)

for brew in "${brews[@]}"
do
  brew_install $brew
done

{{ if eq .chezmoi.os "darwin" -}}
# Fonts on MacOS
brew_install font-hack-nerd-font
brew_install font-caskaydia-cove-nerd-font
{{ end -}}

# powerlevel10k theme
git clone --depth=1 https://github.com/romkatv/powerlevel10k.git ${ZSH_CUSTOM:-$HOME/.oh-my-zsh/custom}/themes/powerlevel10k
